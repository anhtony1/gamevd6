<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gh√©p n·ªëi t√¨nh hu·ªëng - M·∫°ng c√≥ d√¢y & kh√¥ng d√¢y</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Inter', sans-serif;
    }
    .item.dragging {
      opacity: 0.5;
      transform: scale(0.95);
    }
    .target.drag-over {
      border-color: #3b82f6; /* blue-500 */
      background-color: #eff6ff; /* blue-50 */
    }
    .correct {
      background-color: #dcfce7 !important; /* green-100 */
      border-color: #22c55e !important; /* green-500 */
    }
    .wrong {
      background-color: #fee2e2 !important; /* red-100 */
      border-color: #ef4444 !important; /* red-500 */
      animation: shake 0.5s;
    }
    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      25% { transform: translateX(-5px); }
      75% { transform: translateX(5px); }
    }
    /* Th√™m style cho th√¥ng b√°o ph·∫£n h·ªìi */
    .feedback-message {
        position: absolute;
        padding: 8px 16px;
        border-radius: 8px;
        font-size: 1.5rem; /* 24px */
        font-weight: bold;
        color: white;
        opacity: 0;
        animation: fade-up 1s ease-out;
        pointer-events: none; /* ƒê·∫£m b·∫£o kh√¥ng c·∫£n tr·ªü vi·ªác click */
        z-index: 10;
        text-shadow: 1px 1px 2px rgba(0,0,0,0.2);
    }
    .feedback-message.correct {
        background-color: #22c55e; /* green-500 */
    }
    .feedback-message.wrong {
        background-color: #ef4444; /* red-500 */
    }

    @keyframes fade-up {
        0% {
            opacity: 1;
            transform: translateY(0) scale(0.5);
        }
        100% {
            opacity: 0;
            transform: translateY(-50px) scale(1);
        }
    }
  </style>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen p-4">

  <div class="relative w-full max-w-4xl mx-auto bg-white p-6 sm:p-8 rounded-2xl shadow-lg">
    <div class="text-center mb-8">
      <h1 class="text-3xl sm:text-4xl font-bold text-gray-800">Gh√©p n·ªëi t√¨nh hu·ªëng üéÆ</h1>
      <p class="text-gray-600 mt-2">K√©o c√°c t√¨nh hu·ªëng ·ªü c·ªôt tr√°i v√† th·∫£ v√†o lo·∫°i m·∫°ng ph√π h·ª£p ·ªü c·ªôt ph·∫£i.</p>
    </div>

    <div class="flex flex-col md:flex-row justify-center gap-8">
      <!-- C·ªôt A: T√¨nh hu·ªëng (K√©o) -->
      <div id="item-container" class="w-full md:w-1/2 bg-gray-50 p-4 rounded-xl">
        <h2 class="text-xl font-semibold text-center text-gray-700 mb-4">T√¨nh hu·ªëng</h2>
        <div class="space-y-3">
          <div class="item p-4 bg-sky-100 border-2 border-sky-300 rounded-lg cursor-grab text-center font-medium text-sky-800 transition-transform duration-200" draggable="true" data-answer="Wireless">üìç Qu√°n c√† ph√™</div>
          <div class="item p-4 bg-sky-100 border-2 border-sky-300 rounded-lg cursor-grab text-center font-medium text-sky-800 transition-transform duration-200" draggable="true" data-answer="Wired">üè¢ VƒÉn ph√≤ng c√¥ng ty</div>
          <div class="item p-4 bg-sky-100 border-2 border-sky-300 rounded-lg cursor-grab text-center font-medium text-sky-800 transition-transform duration-200" draggable="true" data-answer="Wired">üè´ Ph√≤ng m√°y t√≠nh</div>
          <div class="item p-4 bg-sky-100 border-2 border-sky-300 rounded-lg cursor-grab text-center font-medium text-sky-800 transition-transform duration-200" draggable="true" data-answer="Wireless">‚úàÔ∏è S√¢n bay</div>
          <div class="item p-4 bg-sky-100 border-2 border-sky-300 rounded-lg cursor-grab text-center font-medium text-sky-800 transition-transform duration-200" draggable="true" data-answer="Wired">üñ•Ô∏è Trung t√¢m d·ªØ li·ªáu</div>
          <div class="item p-4 bg-sky-100 border-2 border-sky-300 rounded-lg cursor-grab text-center font-medium text-sky-800 transition-transform duration-200" draggable="true" data-answer="Wireless">üå≥ C√¥ng vi√™n</div>
        </div>
      </div>

      <!-- C·ªôt B: Lo·∫°i m·∫°ng (Th·∫£) -->
      <div class="w-full md:w-1/2 p-4">
        <h2 class="text-xl font-semibold text-center text-gray-700 mb-4">Lo·∫°i m·∫°ng</h2>
        <div class="space-y-4" id="target-container">
          <div class="target p-4 border-2 border-dashed border-gray-400 rounded-lg min-h-[120px] transition-colors duration-200" data-correct="Wireless">
            <span class="font-semibold text-gray-700">M·∫°ng kh√¥ng d√¢y (Wi-Fi)</span>
            <div class="dropped-items mt-2 space-y-2"></div>
          </div>
          <div class="target p-4 border-2 border-dashed border-gray-400 rounded-lg min-h-[120px] transition-colors duration-200" data-correct="Wired">
            <span class="font-semibold text-gray-700">M·∫°ng c√≥ d√¢y (Ethernet)</span>
            <div class="dropped-items mt-2 space-y-2"></div>
          </div>
        </div>
      </div>
    </div>
    
    <div id="completion-message" class="text-center mt-8 hidden">
        <p class="text-2xl font-bold text-green-600">üéâ Ho√†n th√†nh xu·∫•t s·∫Øc! üéâ</p>
        <button id="reset-button" class="mt-4 px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-75 transition-transform transform hover:scale-105">
            Ch∆°i l·∫°i
        </button>
    </div>

  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const completionMessage = document.getElementById('completion-message');
      const resetButton = document.getElementById('reset-button');
      const itemContainer = document.getElementById('item-container');
      const targetContainer = document.getElementById('target-container');
      const mainContainer = document.querySelector('.relative.w-full');

      let draggedItem = null;
      let correctDrops = 0;
      let totalItems = 0;
      
      // Audio Context ƒë·ªÉ t·∫°o √¢m thanh
      let audioCtx;
      
      // H√†m t·∫°o √¢m thanh
      function playSound(isCorrect) {
          if (!audioCtx) {
            try {
              audioCtx = new (window.AudioContext || window.webkitAudioContext)();
            } catch (e) {
              console.error("Web Audio API is not supported in this browser");
              return;
            }
          }

          const oscillator = audioCtx.createOscillator();
          const gainNode = audioCtx.createGain();

          oscillator.connect(gainNode);
          gainNode.connect(audioCtx.destination);

          if (isCorrect) {
              oscillator.type = 'sine';
              oscillator.frequency.setValueAtTime(600, audioCtx.currentTime);
              gainNode.gain.setValueAtTime(0.2, audioCtx.currentTime);
              gainNode.gain.exponentialRampToValueAtTime(0.00001, audioCtx.currentTime + 0.5);
          } else {
              oscillator.type = 'square';
              oscillator.frequency.setValueAtTime(150, audioCtx.currentTime);
              gainNode.gain.setValueAtTime(0.1, audioCtx.currentTime);
              gainNode.gain.exponentialRampToValueAtTime(0.00001, audioCtx.currentTime + 0.3);
          }
          oscillator.start(audioCtx.currentTime);
          oscillator.stop(audioCtx.currentTime + 0.5);
      }
      
      // H√†m hi·ªÉn th·ªã th√¥ng b√°o ph·∫£n h·ªìi
      function showFeedbackMessage(targetElement, isCorrect) {
          const message = document.createElement('div');
          message.className = 'feedback-message';
          if (isCorrect) {
              message.textContent = 'Ch√≠nh x√°c!';
              message.classList.add('correct');
          } else {
              message.textContent = 'Sai r·ªìi!';
              message.classList.add('wrong');
          }
          
          const rect = targetElement.getBoundingClientRect();
          const containerRect = mainContainer.getBoundingClientRect();

          // Th√™m message v√†o DOM tr∆∞·ªõc ƒë·ªÉ c√≥ k√≠ch th∆∞·ªõc
          mainContainer.appendChild(message);
          
          const messageRect = message.getBoundingClientRect();
          message.style.left = `${rect.left - containerRect.left + (rect.width - messageRect.width) / 2}px`;
          message.style.top = `${rect.top - containerRect.top + (rect.height - messageRect.height) / 2}px`;
          
          setTimeout(() => {
              message.remove();
          }, 1000);
      }

      // L∆∞u l·∫°i tr·∫°ng th√°i HTML ban ƒë·∫ßu c·ªßa c√°c container
      const initialItemsHTML = itemContainer.innerHTML;
      const initialTargetsHTML = targetContainer.innerHTML;

      function initializeGame() {
        // L·∫•y c√°c ph·∫ßn t·ª≠ item v√† target hi·ªán t·∫°i trong DOM
        const items = document.querySelectorAll(".item");
        const targets = document.querySelectorAll(".target");
        
        totalItems = items.length;

        items.forEach(item => {
          item.addEventListener("dragstart", (e) => {
            draggedItem = item;
            setTimeout(() => item.classList.add("dragging"), 0);
          });

          item.addEventListener("dragend", () => {
            if (draggedItem) {
                draggedItem.classList.remove("dragging");
            }
            draggedItem = null;
          });
        });

        targets.forEach(target => {
          target.addEventListener("dragover", e => {
            e.preventDefault();
            target.classList.add("drag-over");
          });

          target.addEventListener("dragleave", () => {
            target.classList.remove("drag-over");
          });

          target.addEventListener("drop", (e) => {
            e.preventDefault();
            target.classList.remove("drag-over");
            
            if (draggedItem && draggedItem.style.display !== 'none') {
              if (draggedItem.dataset.answer === target.dataset.correct) {
                playSound(true);
                showFeedbackMessage(target, true);
                target.classList.add("correct");
                const droppedItemsContainer = target.querySelector('.dropped-items');
                
                const droppedElement = document.createElement('div');
                droppedElement.className = 'p-2 bg-green-200 border border-green-400 text-green-800 rounded-md text-sm';
                droppedElement.textContent = "‚úÖ " + draggedItem.textContent;
                droppedItemsContainer.appendChild(droppedElement);
                
                draggedItem.style.display = "none";
                correctDrops++;
                checkCompletion();
              } else {
                playSound(false);
                showFeedbackMessage(target, false);
                target.classList.add("wrong");
                setTimeout(() => target.classList.remove("wrong"), 800);
              }
            }
          });
        });
      }
      
      function checkCompletion() {
        if (correctDrops === totalItems) {
          completionMessage.classList.remove('hidden');
        }
      }

      function resetGame() {
        // ƒê·∫∑t l·∫°i HTML c·ªßa c√°c container v·ªÅ tr·∫°ng th√°i ban ƒë·∫ßu
        itemContainer.innerHTML = initialItemsHTML;
        targetContainer.innerHTML = initialTargetsHTML;

        // ƒê·∫∑t l·∫°i tr·∫°ng th√°i tr√≤ ch∆°i
        correctDrops = 0;
        draggedItem = null;
        completionMessage.classList.add('hidden');

        // Kh·ªüi t·∫°o l·∫°i game ƒë·ªÉ g√°n l·∫°i c√°c s·ª± ki·ªán cho c√°c ph·∫ßn t·ª≠ m·ªõi
        initializeGame();
      }

      resetButton.addEventListener('click', resetGame);
      
      // Kh·ªüi t·∫°o game l·∫ßn ƒë·∫ßu
      initializeGame();
    });
  </script>
</body>
</html>


